(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22f78d28"],{"3c4b":function(e,t,n){},"43d9":function(e,t,n){},"483b":function(e,t,n){"use strict";var s=n("43d9"),r=n.n(s);r.a},"48cd":function(e,t,n){"use strict";var s=n("3c4b"),r=n.n(s);r.a},"77be":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ShortenerTitle"),n("UserSettings")],1)},r=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"user-settings"}},[e.isSignedIn?n("div",{staticClass:"form-container"},[n("SignOut")],1):n("div",{staticClass:"form-container"},[n("SignIn"),n("SignUp")],1),e.messages.length?n("div",{staticClass:"success-message",staticStyle:{"text-align":"center"}},e._l(e.messages,(function(t){return n("div",{key:t.id},[e._v(e._s(t))])})),0):e._e()])},a=[],u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("form",{staticClass:"component",attrs:{id:"sign-in",method:"post"},on:{submit:function(t){return t.preventDefault(),e.signIn(t)}}},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.username,expression:"username",modifiers:{trim:!0}}],attrs:{id:"username",type:"text",name:"username",placeholder:"User's name"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("input",{staticClass:"button",attrs:{type:"submit",value:"Sign In"}})]),e.errors.length?n("div",{staticClass:"error-message",staticStyle:{width:"250px"}},[n("b",[e._v("Please correct the following error(s):")]),n("ul",e._l(e.errors,(function(t){return n("li",{key:t.id},[e._v(e._s(t))])})),0)]):e._e()])},o=[],c=(n("7f7f"),n("bc3a")),l=n.n(c),m=n("56d7"),f={name:"SignIn",data:function(){return{errors:[],username:""}},methods:{signIn:function(){var e=this,t={username:this.username};l.a.post("/api/users/session",t).then((function(e){m["eventBus"].$emit("signin-success",e.data.data.name)})).catch((function(t){e.errors.push(t.response.data.error)})).then((function(){e.resetForm(),e.clearMessages()}))},resetForm:function(){this.username=""},clearMessages:function(){var e=this;setInterval((function(){e.errors=[]}),5e3)}}},g=f,d=(n("48cd"),n("2877")),p=Object(d["a"])(g,u,o,!1,null,"1acb4982",null),v=p.exports,h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"component",attrs:{id:"sign-out"}},[n("button",{on:{click:e.signOut}},[e._v("Sign Out")])])},b=[],_={name:"SignOut",methods:{signOut:function(){l.a.delete("api/users/session").then((function(){m["eventBus"].$emit("signout-success",!0)})).catch((function(){m["eventBus"].$emit("signout-success",!0)}))}}},S=_,$=Object(d["a"])(S,h,b,!1,null,null,null),I=$.exports,U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("form",{staticClass:"component",attrs:{id:"sign-up",method:"post"},on:{submit:function(t){return t.preventDefault(),e.signUp(t)}}},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.username,expression:"username",modifiers:{trim:!0}}],attrs:{id:"username",type:"text",name:"username",placeholder:"User's name"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("input",{staticClass:"button",attrs:{type:"submit",value:"Sign Up"}})]),e.errors.length?n("div",{staticClass:"error-message",staticStyle:{width:"250px"}},[n("b",[e._v("Please correct the following error(s):")]),n("ul",e._l(e.errors,(function(t){return n("li",{key:t.id},[e._v(e._s(t))])})),0)]):e._e()])},x=[],w={name:"SignUp",data:function(){return{errors:[],username:""}},methods:{signUp:function(){var e=this,t={username:this.username};l.a.post("/api/users/",t).then((function(){m["eventBus"].$emit("signup-success",!0)})).catch((function(t){e.errors.push(t.response.data.error)})).then((function(){e.resetForm(),e.clearMessages()}))},resetForm:function(){this.username=""},clearMessages:function(){var e=this;setInterval((function(){e.errors=[]}),5e3)}}},y=w,O=(n("483b"),Object(d["a"])(y,U,x,!1,null,"bfdaf50c",null)),k=O.exports,C={name:"UserSettings",components:{SignIn:v,SignOut:I,SignUp:k},data:function(){return{isSignedIn:!1,messages:[]}},created:function(){var e=this,t=this.$cookie.get("url-shortener-auth");t&&(this.isSignedIn=!0),m["eventBus"].$on("signin-success",(function(t){e.$cookie.set("url-shortener-auth",t),e.isSignedIn=!0,e.messages.push("You have been signed in!"),e.clearMessages()})),m["eventBus"].$on("signout-success",(function(){e.$cookie.set("url-shortener-auth",""),e.isSignedIn=!1,e.messages.push("You have been signed out!"),e.clearMessages()})),m["eventBus"].$on("signup-success",(function(){e.messages.push("You have been signed up! Sign in to continue."),e.clearMessages()}))},methods:{clearMessages:function(){var e=this;setInterval((function(){e.messages=[]}),5e3)}}},M=C,B=Object(d["a"])(M,i,a,!1,null,null,null),j=B.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"nav-bar"},[n("div",[n("router-link",{attrs:{to:"/"}},[e._v("URL Shortener")])],1)])},F=[],P={},Y=Object(d["a"])(P,E,F,!1,null,null,null),D=Y.exports,J={name:"account",components:{UserSettings:j,ShortenerTitle:D}},N=J,T=Object(d["a"])(N,s,r,!1,null,null,null);t["default"]=T.exports},"7f7f":function(e,t,n){var s=n("86cc").f,r=Function.prototype,i=/^\s*function ([^ (]*)/,a="name";a in r||n("9e1e")&&s(r,a,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})}}]);
//# sourceMappingURL=chunk-22f78d28.49a4ef6f.js.map