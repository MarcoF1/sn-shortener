{"remainingRequest":"/Users/marco/code/6.170/recitation-solutions/R9 - Vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/marco/code/6.170/recitation-solutions/R9 - Vue/src/components/ShortListItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/marco/code/6.170/recitation-solutions/R9 - Vue/src/components/ShortListItem.vue","mtime":1604368890098},{"path":"/Users/marco/code/6.170/recitation-solutions/R9 - Vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/marco/code/6.170/recitation-solutions/R9 - Vue/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/marco/code/6.170/recitation-solutions/R9 - Vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/marco/code/6.170/recitation-solutions/R9 - Vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/marco/code/6.170/recitation-solutions/R9 - Vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7IGV2ZW50QnVzIH0gZnJvbSAiLi4vbWFpbiI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlNob3J0TGlzdEl0ZW0iLAoKICBwcm9wczogewogICAgc2hvcnQ6IE9iamVjdAogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1cmw6ICIiCiAgICB9OwogIH0sCgogIGNvbXB1dGVkOiB7CiAgICBjcmVhdG9ySWRlbnRpdHk6IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gdGhpcy5zaG9ydC5jcmVhdG9yID8gdGhpcy5zaG9ydC5jcmVhdG9yIDogImFub255bW91cyI7CiAgICB9CiAgfSwKCiAgbWV0aG9kczogewogICAgdXBkYXRlU2hvcnQ6IGZ1bmN0aW9uKCkgewogICAgICBjb25zdCBib2R5ID0geyB1cmw6IHRoaXMudXJsIH07CiAgICAgIGF4aW9zCiAgICAgICAgLnB1dChgL2FwaS9zaG9ydHMvJHt0aGlzLnNob3J0LnNob3J0TmFtZX1gLCBib2R5KQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIC8vIGhhbmRsZSBzdWNjZXNzCiAgICAgICAgICBldmVudEJ1cy4kZW1pdCgidXBkYXRlLXNob3J0LXN1Y2Nlc3MiLCByZXMpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAvLyBoYW5kbGUgZXJyb3IKICAgICAgICAgIGV2ZW50QnVzLiRlbWl0KCJ1cGRhdGUtc2hvcnQtZXJyb3IiLCBlcnIpOwogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKCkgPT4gKHRoaXMudXJsID0gIiIpKTsKICAgIH0sCgogICAgZGVsZXRlU2hvcnQ6IGZ1bmN0aW9uKCkgewogICAgICBheGlvcwogICAgICAgIC5kZWxldGUoYC9hcGkvc2hvcnRzLyR7dGhpcy5zaG9ydC5zaG9ydE5hbWV9YCwge30pCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgZXZlbnRCdXMuJGVtaXQoImRlbGV0ZS1zaG9ydC1zdWNjZXNzIiwgdGhpcy5zaG9ydCk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyID0+IHsKICAgICAgICAgIGV2ZW50QnVzLiRlbWl0KCJkZWxldGUtc2hvcnQtZXJyb3IiLCBlcnIpOwogICAgICAgIH0pCiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["ShortListItem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ShortListItem.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"short-container\">\n    <div class=\"short-name\"> {{ short.shortName }}</div>\n    <p>Creator ID: {{ creatorIdentity }}</p>\n    <p>Short URL: <a target=\"_blank\" v-bind:href=\" 'http://localhost:3000/' + short.shortName\">\n      http://localhost:3000/{{short.shortName  }}\n    </a> </p>\n    <a target=\"_blank\" v-bind:href=\"short.url\">\n      {{ short.url }}\n    </a>\n    <div class=\"short-item-actions\">\n      <input class=\"edit\" v-model.trim='url' type=\"text\" name=\"url\" placeholder=\"New Url\">\n      <button v-on:click=\"updateShort\">Update</button>\n      <button v-on:click=\"deleteShort\">Delete</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { eventBus } from \"../main\";\n\nexport default {\n  name: \"ShortListItem\",\n\n  props: {\n    short: Object\n  },\n\n  data() {\n    return {\n      url: \"\"\n    };\n  },\n\n  computed: {\n    creatorIdentity: function() {\n      return this.short.creator ? this.short.creator : \"anonymous\";\n    }\n  },\n\n  methods: {\n    updateShort: function() {\n      const body = { url: this.url };\n      axios\n        .put(`/api/shorts/${this.short.shortName}`, body)\n        .then((res) => {\n          // handle success\n          eventBus.$emit(\"update-short-success\", res);\n        })\n        .catch(err => {\n          // handle error\n          eventBus.$emit(\"update-short-error\", err);\n        })\n        .then(() => (this.url = \"\"));\n    },\n\n    deleteShort: function() {\n      axios\n        .delete(`/api/shorts/${this.short.shortName}`, {})\n        .then(() => {\n          eventBus.$emit(\"delete-short-success\", this.short);\n        })\n        .catch(err => {\n          eventBus.$emit(\"delete-short-error\", err);\n        })\n    }\n  }\n};\n</script>\n"]}]}